<ix-application class="h-screen !z-0">
    <ix-application-header name="Xcelerator Demo App">
        <button class="placeholder-logo" slot="logo" [routerLink]="['/']">
            <img
                [src]="lightMode() ?
                    'https://cdn.c2comms.cloud/images/logo-collection/2.1/sie-logo-black-rgb.svg':
                    'https://cdn.c2comms.cloud/images/logo-collection/2.1/sie-logo-white-rgb.svg'"
                class="h-5"
                alt="Siemens logo"
            />
        </button>
        <ix-button class="mt-1" variant="secondary">
            Powered by Siemens Xcelerator
        </ix-button>
        <ix-avatar [username]="userMail" extra="Administrator">
            <ix-dropdown-item label="Logout" (click)="logout()"></ix-dropdown-item>
        </ix-avatar>
    </ix-application-header>

    <ix-breadcrumb visibleItemCount="3" class="ml-8">
        @for (breadcrumb of breadcrumbs(); track breadcrumb; let i=$index; let length=$count) {
            <ix-breadcrumb-item
                [label]="breadcrumb"
                [routerLink]="cutUrl(length - i - 1)"
            ></ix-breadcrumb-item>
        }
    </ix-breadcrumb>

    @if (!isHomePage()){
        <ix-button class="absolute top-10 right-4" icon="refresh" (click)="refresh()">Refresh</ix-button>
    }

    <ix-menu>
        <ix-menu-item icon="home" [routerLink]="['/']">Home</ix-menu-item>
        <ix-menu-item icon="building1" [routerLink]="['/facilities']">Facilities</ix-menu-item>
        <ix-menu-item icon="tasks-open" [routerLink]="['/cases']">Cases</ix-menu-item>
        <ix-menu-item [icon]="lightMode() ? 'sun-filled' : 'sun'" slot="bottom" (click)="toggleMode()">toggle theme</ix-menu-item>

        <ix-menu-about>
            <app-legal-information></app-legal-information>
        </ix-menu-about>
    </ix-menu>


    <router-outlet></router-outlet>
</ix-application>
