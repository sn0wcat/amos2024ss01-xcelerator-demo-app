<div class="absolute top-20 right-4 !z-[50] flex flex-row-reverse gap-x-4">
	<ix-button [routerLink]="['/cases/create']" icon="plus"> Create Case </ix-button>
</div>

<ix-content-header
    class="pl-4 pt-4"
    hasBackButton="true"
    headerTitle="Cases Overview"
    headerSubtitle="View all cases including their status, priority and type"
    (backButtonClick)="router.navigate(['../'], { relativeTo: route })"
></ix-content-header>

<ix-content>
    <ix-category-filter
        placeholder="Filter by"
        [repeatCategories]="repeatCategories"
        [categories]="categories"
        [filterState]="filterState"
        (filterChanged)="filterList($event)"
    ></ix-category-filter>

	<table class="table">
		<thead>
			<tr>
				<th scope="col">#</th>
				<th scope="col">Title</th>
                <th scope="col">Status</th>
				<th scope="col">Priority</th>
                <th scope="col">Type</th>
				<th scope="col">Due to</th>
				<th scope="col">Description</th>
			</tr>
		</thead>
		<tbody>
			@for (_case of _sortedCases(); track _case.id) {
				<tr
					[routerLink]="['/cases', _case.id]"
					class="clickable-row"
					[ngClass]="getStatusClasses(_case)"
				>
					<th scope="row">{{ _case.handle }}</th>
					<td>{{ _case.title }}</td>
                    <td>{{ _case.status }}</td>
					<td>{{ _case.priority }}</td>
                    <td>{{ _case.type }}</td>
					<td>{{ _case.dueDate }}</td>
					<td>{{ _case.description }}</td>
				</tr>
			}
		</tbody>
	</table>
</ix-content>
